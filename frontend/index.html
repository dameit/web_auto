<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>快速开发平台</title>
    <!-- Element Plus CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
</head>
<body>
    <div id="app"></div>
    
    <script>
        const { createApp, ref, reactive } = Vue
        const { ElMessage, ElDialog, ElForm, ElFormItem, ElInput, ElButton, ElCard, ElTag } = ElementPlus
        
        const App = {
            template: `
                <div style="min-height: 100vh; background: #f0f2f5;">
                    <!-- 标题栏 -->
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; color: white;">
                        <h1 style="margin: 0;">web自动化操作平台</h1>
                    </div>
                    
                    <div style="display: flex; min-height: calc(100vh - 80px);">
                        <!-- 侧边栏 -->
                        <div style="width: 220px; background: white; padding: 20px; border-right: 1px solid #e8e8e8;">
                            <el-menu default-active="1">
                                <el-menu-item index="1">
                                    <i class="fas fa-home"></i>
                                    <span>首页</span>
                                </el-menu-item>
                                <el-sub-menu index="2">
                                    <template #title>
                                        <i class="fas fa-list-alt"></i>
                                        <span>测试用例</span>
                                    </template>
                                    <el-menu-item index="2-1">新建用例</el-menu-item>
                                    <el-menu-item index="2-2">用例管理</el-menu-item>
                                    <el-menu-item index="2-3">执行用例</el-menu-item>
                                    <el-menu-item index="2-4">测试报告</el-menu-item>
                                </el-sub-menu>
                            </el-menu>
                        </div>
                        
                        <!-- 主内容 -->
                        <div style="flex: 1; padding: 20px;">
                            <h2><i class="fas fa-server"></i> 服务器连接信息</h2>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-top: 20px;">
                                <!-- BMC信息卡片 -->
                                <el-card>
                                    <template #header>
                                        <div style="display: flex; align-items: center; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-network-wired" style="color: #409EFF;"></i>
                                                <span style="font-weight: bold;">BMC 管理接口</span>
                                            </div>
                                            <el-tag :type="bmc.connected ? 'success' : 'danger'">
                                                {{ bmc.connected ? '已连接' : '未连接' }}
                                            </el-tag>
                                        </div>
                                    </template>
                                    
                                    <el-form label-width="80px">
                                        <el-form-item label="IP地址">
                                            <el-input v-model="bmc.ip" readonly>
                                                <template #append>
                                                    <el-button @click="copyText(bmc.ip)" icon="fas fa-copy"></el-button>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                        
                                        <el-form-item label="用户名">
                                            <el-input v-model="bmc.username" readonly>
                                                <template #append>
                                                    <el-button @click="copyText(bmc.username)" icon="fas fa-copy"></el-button>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                        
                                        <el-form-item label="密码">
                                            <el-input 
                                                v-model="bmc.password" 
                                                :type="showBmcPassword ? 'text' : 'password'" 
                                                readonly
                                            >
                                                <template #append>
                                                    <el-button-group>
                                                        <el-button 
                                                            @click="togglePassword('bmc')"
                                                            :icon="showBmcPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"
                                                        ></el-button>
                                                        <el-button @click="copyText(bmc.password)" icon="fas fa-copy"></el-button>
                                                    </el-button-group>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                    </el-form>
                                    
                                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                                        <el-button type="primary" @click="testConnection('bmc')" :loading="bmc.loading">
                                            <i class="fas fa-plug"></i> 测试连接
                                        </el-button>
                                        <el-button @click="openEditDialog('bmc')">
                                            <i class="fas fa-edit"></i> 修改信息
                                        </el-button>
                                    </div>
                                </el-card>
                                
                                <!-- OS信息卡片 -->
                                <el-card>
                                    <template #header>
                                        <div style="display: flex; align-items: center; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-desktop" style="color: #67C23A;"></i>
                                                <span style="font-weight: bold;">OS 接口</span>
                                            </div>
                                            <el-tag :type="os.connected ? 'success' : 'danger'">
                                                {{ os.connected ? '已连接' : '未连接' }}
                                            </el-tag>
                                        </div>
                                    </template>
                                    
                                    <el-form label-width="80px">
                                        <el-form-item label="IP地址">
                                            <el-input v-model="os.ip" readonly>
                                                <template #append>
                                                    <el-button @click="copyText(os.ip)" icon="fas fa-copy"></el-button>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                        
                                        <el-form-item label="用户名">
                                            <el-input v-model="os.username" readonly>
                                                <template #append>
                                                    <el-button @click="copyText(os.username)" icon="fas fa-copy"></el-button>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                        
                                        <el-form-item label="密码">
                                            <el-input 
                                                v-model="os.password" 
                                                :type="showOsPassword ? 'text' : 'password'" 
                                                readonly
                                            >
                                                <template #append>
                                                    <el-button-group>
                                                        <el-button 
                                                            @click="togglePassword('os')"
                                                            :icon="showOsPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"
                                                        ></el-button>
                                                        <el-button @click="copyText(os.password)" icon="fas fa-copy"></el-button>
                                                    </el-button-group>
                                                </template>
                                            </el-input>
                                        </el-form-item>
                                    </el-form>
                                    
                                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                                        <el-button type="primary" @click="testConnection('os')" :loading="os.loading">
                                            <i class="fas fa-plug"></i> 测试连接
                                        </el-button>
                                        <el-button @click="openEditDialog('os')">
                                            <i class="fas fa-edit"></i> 修改信息
                                        </el-button>
                                    </div>
                                </el-card>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 编辑对话框 -->
                    <el-dialog 
                        v-model="dialogVisible" 
                        :title="dialogTitle" 
                        width="500px"
                    >
                        <el-form :model="editForm" label-width="80px">
                            <el-form-item label="IP地址" required>
                                <el-input v-model="editForm.ip" placeholder="请输入IP地址"></el-input>
                            </el-form-item>
                            
                            <el-form-item label="用户名" required>
                                <el-input v-model="editForm.username" placeholder="请输入用户名"></el-input>
                            </el-form-item>
                            
                            <el-form-item label="密码" required>
                                <el-input 
                                    v-model="editForm.password" 
                                    type="password" 
                                    placeholder="请输入密码"
                                    show-password
                                ></el-input>
                            </el-form-item>
                        </el-form>
                        
                        <template #footer>
                            <span class="dialog-footer">
                                <el-button @click="dialogVisible = false">取消</el-button>
                                <el-button type="primary" @click="saveEdit">保存</el-button>
                            </span>
                        </template>
                    </el-dialog>
                </div>
            `,
            
            setup() {
                const bmc = reactive({
                    ip: '192.168.1.100',
                    username: 'admin',
                    password: 'P@ssw0rd123',
                    connected: true,
                    loading: false
                })
                
                const os = reactive({
                    ip: '192.168.1.101',
                    username: 'root',
                    password: 'Admin@123',
                    connected: true,
                    loading: false
                })
                
                const showBmcPassword = ref(false)
                const showOsPassword = ref(false)
                const dialogVisible = ref(false)
                const editingType = ref('')
                const editForm = reactive({ ip: '', username: '', password: '' })
                
                const dialogTitle = computed(() => {
                    return editingType.value === 'bmc' ? '修改 BMC 信息' : '修改 OS 信息'
                })
                
                const copyText = (text) => {
                    navigator.clipboard.writeText(text)
                        .then(() => ElMessage.success('已复制到剪贴板'))
                }
                
                const togglePassword = (type) => {
                    if (type === 'bmc') {
                        showBmcPassword.value = !showBmcPassword.value
                    } else {
                        showOsPassword.value = !showOsPassword.value
                    }
                }
                
                const testConnection = (type) => {
                    const server = type === 'bmc' ? bmc : os
                    server.loading = true
                    
                    setTimeout(() => {
                        server.loading = false
                        server.connected = true
                        ElMessage.success(`${type === 'bmc' ? 'BMC' : 'OS'} 连接成功`)
                    }, 1000)
                }
                
                const openEditDialog = (type) => {
                    editingType.value = type
                    const server = type === 'bmc' ? bmc : os
                    editForm.ip = server.ip
                    editForm.username = server.username
                    editForm.password = server.password
                    dialogVisible.value = true
                }
                
                const saveEdit = () => {
                    const server = editingType.value === 'bmc' ? bmc : os
                    Object.assign(server, { ...editForm })
                    dialogVisible.value = false
                    ElMessage.success('修改成功')
                }
                
                return {
                    bmc,
                    os,
                    showBmcPassword,
                    showOsPassword,
                    dialogVisible,
                    dialogTitle,
                    editForm,
                    copyText,
                    togglePassword,
                    testConnection,
                    openEditDialog,
                    saveEdit
                }
            }
        }
        
        const app = createApp(App)
        app.use(ElementPlus)
        app.mount('#app')
    </script>
</body>
</html>